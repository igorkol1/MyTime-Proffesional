<div class="modal-header">
  <h4 class="modal-title" *ngIf="newUser">New User</h4>
  <h4 class="modal-title" *ngIf="!newUser">Edit User</h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <form id="userForm" #userForm="ngForm" (ngSubmit)="!userForm.invalid && handleSave()">
    <div class="form-group row">
      <input [(ngModel)]="user.email" name="email" type="email" class="form-control" id="exampleInputEmail1"
             placeholder="Enter email" required email>
    </div>
    <div class="form-group row">
      <div *ngIf="!newUser" class="custom-control custom-switch">
        <input type="checkbox" [(ngModel)]="changePassword" class="custom-control-input" id="customSwitch1"
               name="changePass">
        <label class="custom-control-label" for="customSwitch1">Change password</label>
      </div>
    </div>
    <div class="form-group row" *ngIf="newUser || changePassword">
      <input [(ngModel)]="user.password" name="password" type="password" class="form-control"
             placeholder="Password" required
             [ngClass]="{'is-invalid': user.password!==confirmPassword}">
    </div>
    <div class="form-group row" *ngIf="newUser || changePassword">
      <input [(ngModel)]="confirmPassword" name="confirmPassword" type="password" class="form-control"
             placeholder="Confirm Password" required
             [ngClass]="{'is-invalid': user.password!==confirmPassword}">
    </div>
    <div class="form-group row">
      <div class="custom-control custom-switch">
        <input [(ngModel)]="user.manager" class="custom-control-input" type="checkbox" id="isManager"
               name="isManager">
        <label class="custom-control-label" for="isManager">
          Manager
        </label>
      </div>
    </div>
    <div class="form-group row">
      <div class="custom-control custom-switch">
        <input [(ngModel)]="user.active" class="custom-control-input" type="checkbox" id="isActive" name="isActive">
        <label class="custom-control-label" for="isActive">
          Active
        </label>
      </div>
    </div>


  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-light" (click)="handleSave()" [disabled]="userForm.invalid">Save</button>
  <button type="button" class="btn btn-light" (click)="handleCancel()">Cancel</button>
</div>
